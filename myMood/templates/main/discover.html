{% extends "base_main.html" %}

{% block content %}
<!-- Discover -->
<div class="w-full h-full">
	<div class="w-full pt-24 bg-dark text-white pb-10">
		<div class="w-5/6 mx-auto">
			<h2 class="text-gray-500 text-xl font-bold tracking-wide uppercase underline">Discover</h2>
		    <!-- random users -->
		    <div class="py-3">
		        <h3 class="text-gray-500">Random Users</h3>
		        <div class="mt-2 grid grid-cols-2 sm:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4 overflow-hidden">
		            {% for user in users %}
		            <!-- user -->
		            <div href="#" class="bg-darkish rounded-md">
		                <div class="relative h-40 w-full">
		                    <img src="{{ url_for('static', filename='profile_pics/' + user.acc_image) }}" alt="" class="absolute w-full h-full object-cover rounded-t-md z-0">
		                </div>
		                <h4 class="tracking-wide p-2 truncate text-center"><span class="text-gray-500 tracking-wide">{{ user.username }}</span></h4>
		            </div>
		            {% endfor %}
		        </div>
		    </div>

		    <hr class="border-gray-500 mt-1 mb-3">

		    <!-- public posts -->
		    <div class="">
		        <h3 class="text-gray-500">Public Stories</h3>
		        <div class="pt-2">
		            {% for story in stories %}
		            <!-- post -->
		            <div class="bg-darker p-3 rounded-lg mb-2">
		                <!-- post info -->
		                <div class="flex justify-between items-center">
		                    <div class="flex items-center">
		                        <div class="relative h-10 w-10 z-0">
		                            <img src="{{ url_for('static', filename='profile_pics/' + story.author.acc_image) }}" alt="" class="absolute w-full h-full object-cover rounded-full z-0">
		                        </div>
		                        <div class="user-info flex flex-col">
		                            <div class="flex items-center">
		                                <h4 class="mx-2 text-blue tracking-wide">{{ story.author.username }}</h4>
		                                {% if story.emotion == "happy" %}
		                                    <p class="text-sm mt-1 text-gray-600 emotion flex">is feeling <span class="hidden sm:block px-1">Happy</span> üòÄ</p>
		                                {% elif story.emotion == "blessed" %}
		                                    <p class="text-sm mt-1 text-gray-600 emotion flex">is feeling <span class="hidden sm:block px-1">Blessed</span> üòá</p>
		                                {% elif story.emotion == "loved" %}
		                                    <p class="text-sm mt-1 text-gray-600 emotion flex">is feeling <span class="hidden sm:block px-1">Loved</span> üòç</p>
		                                {% elif story.emotion == "lovely" %}
		                                    <p class="text-sm mt-1 text-gray-600 emotion flex">is feeling <span class="hidden sm:block px-1">Lovely</span> üòä</p>
		                                {% elif story.emotion == "sad" %}
		                                    <p class="text-sm mt-1 text-gray-600 emotion flex">is feeling <span class="hidden sm:block px-1">Sad</span> üôÅ</p>
		                                {% elif story.emotion == "surprised" %}
		                                    <p class="text-sm mt-1 text-gray-600 emotion flex">is feeling <span class="hidden sm:block px-1">Surprised</span> üò±</p>
		                                {% elif story.emotion == "angry" %}
		                                    <p class="text-sm mt-1 text-gray-600 emotion flex">is feeling <span class="hidden sm:block px-1">Angry</span> üò°</p>
		                                {% elif story.emotion == "excited" %}
		                                    <p class="text-sm mt-1 text-gray-600 emotion flex">is feeling <span class="hidden sm:block px-1">Excited</span> üòÅ</p>
		                                {% elif story.emotion == "embarassed" %}
		                                    <p class="text-sm mt-1 text-gray-600 emotion flex">is feeling <span class="hidden sm:block px-1">Embarrased</span> üò≥</p>
		                                {% elif story.emotion == "thankful" %}
		                                    <p class="text-sm mt-1 text-gray-600 emotion flex">is feeling <span class="hidden sm:block px-1">Thankful</span> ü§ó</p>
		                                {% elif story.emotion == "in_love" %}
		                                    <p class="text-sm mt-1 text-gray-600 emotion flex">is feeling <span class="hidden sm:block px-1">In Love</span> ü•∞</p>
		                                {% elif story.emotion == "crazy" %}
		                                    <p class="text-sm mt-1 text-gray-600 emotion flex">is feeling <span class="hidden sm:block px-1">Crazy</span> üòÜ</p>
		                                {% elif story.emotion == "sick" %}
		                                    <p class="text-sm mt-1 text-gray-600 emotion flex">is feeling <span class="hidden sm:block px-1">Sick</span> ü§í</p>
		                                {% elif story.emotion == "tired" %}
		                                    <p class="text-sm mt-1 text-gray-600 emotion flex">is feeling <span class="hidden sm:block px-1">Tired</span> üòì</p>
		                                {% elif story.emotion == "sleepy" %}
		                                    <p class="text-sm mt-1 text-gray-600 emotion flex">is feeling <span class="hidden sm:block px-1">Sleepy</span> ü•±</p>
		                                {% endif %}
		                            </div>
		                            <p class="ml-4 text-gray-700 post-date text-sx">on {{ story.date_posted.strftime("%B %d, %Y") }}</p>
		                        </div>
		                    </div>
		                    <p class="pt-1 text-gray-700 post-date text-xs hidden sm:block">{{ story.date_posted.strftime("%I:%M %p") }}</p>
		                </div>
		                <!-- post main -->
		                <div class="flex justify-center items-center feel-{{ story.emotion }} mt-2">
		                    <div class="pt-5 pb-6 px-3 md:px-6 text-center">
		                        <h2 class="font-bold tracking-wide text-2xl sm:text-3xl">{{ story.content }}</h2>
		                    </div>
		                </div>
		                <p class="pt-1 text-gray-700 post-date text-xs block sm:hidden">{{ story.date_posted.strftime("%I:%M %p") }}</p>
		            </div>
		            {% else %}
		            <!-- show text "No Posts" -->
		            <div class="bg-darker p-3 rounded-lg mb-2">
		                <h1 class="text-gray-200 text-xl font-bold tracking-wider">No Stories to Show</h1>
		            </div>
		            {% endfor %}
		            <!-- more stories -->
		            <a href="{{ url_for('users.user_login') }}" type="button" class="border-2 border-darkish rounded-lg text-center w-full py-1 bg-darkish text-sm hover:bg-gray-600 hover:border-gray-600">Login to View More</a>
		        </div>
		    </div>
		</div>
	</div>
</div>
{% endblock content %}
